{% extends 'base.html' %}
{% block content %}
<div class="container my-5">
    <h2 class="text-center">My Wishlist</h2>
    <br>
    <div class="wishlist-container row">
        {% for item in wishlist_items %}
            <div class="wishlist-item col-md-3 col-sm-6 mb-4">
                <div class="card shadow-sm h-100" style="width: 90%; max-width: 200px; margin: auto;">
                    <!-- Property Image -->
                    {% if item.property.images %}
                        <a href="{% url 'property_details' item.property.id %}"><img src="{{ item.property.images.0 }}" class="card-img-top" alt="{{ item.property.name }}" style="height: 150px; object-fit: cover;"></a>
                    {% else %}
                        <div class="bg-secondary text-white d-flex align-items-center justify-content-center" style="height: 150px;">
                            <p>No image available</p>
                        </div>
                    {% endif %}

                    <!-- Property Details -->
                    <div class="card-body text-center">
                       <a href="{% url 'property_details' item.property.id %}"> <h6 class="card-title text-success">{{ item.property.name }}</h6></a>
                        <p class="small">{{ item.property.address }}</p>
                    </div>

                    <!-- Buttons for Details and Remove -->
                    <div class="card-footer d-flex justify-content-between">
                        <a href="{% url 'property_details' item.property.id %}" class="btn btn-outline-success btn-sm">Details</a>
                        <a href="{% url 'remove_from_wishlist' item.property.id %}" class="btn btn-danger btn-sm">Remove</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="col-12">
                <p class="text-center mt-4">Your wishlist is empty.</p>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
